# App
APP_ENV=development
APP_PORT=8080
LOG_LEVEL=debug

# Kafka
KAFKA_BROKERS=kafka-1:9092,kafka-2:9092,kafka-3:9092
KAFKA_REQUEST_PARTITIONS=6
KAFKA_REPLICATION_FACTOR=3

# Topics
KAFKA_EMAIL_REQUEST_TOPIC=messages.email.request
KAFKA_EMAIL_STATUS_TOPIC=messages.email.status
KAFKA_EMAIL_DLQ_TOPIC=messages.email.dlq

KAFKA_SMS_REQUEST_TOPIC=messages.sms.request
KAFKA_SMS_STATUS_TOPIC=messages.sms.status
KAFKA_SMS_DLQ_TOPIC=messages.sms.dlq

KAFKA_WHATSAPP_REQUEST_TOPIC=messages.whatsapp.request
KAFKA_WHATSAPP_STATUS_TOPIC=messages.whatsapp.status
KAFKA_WHATSAPP_DLQ_TOPIC=messages.whatsapp.dlq

# Consumer groups
EMAIL_CONSUMER_GROUP=email-worker-group
SMS_CONSUMER_GROUP=sms-worker-group
WHATSAPP_CONSUMER_GROUP=whatsapp-worker-group

# Retry / Worker
MAX_ATTEMPTS=5
BASE_BACKOFF_SECONDS=2
MAX_BACKOFF_SECONDS=60
BACKOFF_STRATEGY=exponential
BACKOFF_JITTER=full
WORKER_CONCURRENCY=20
COMMIT_ON_SUCCESS_ONLY=true

# Validation limits
MSG_MAX_BYTES=5242880
RECIPIENTS_MAX=100
SUBJECT_MAX_LEN=255
BODY_MAX_BYTES=2097152
SMS_RECIPIENTS_MAX=10
SMS_BODY_MAX=1600
WA_BODY_MAX=4096
META_MAX_ENTRIES=50
META_MAX_KEY_LEN=128
META_MAX_VALUE_LEN=1024

# Providers
EMAIL_PROVIDER=mock
# EMAIL_PROVIDER=smtp    #for smtp
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_smtp_user@example.com
SMTP_PASS=your_smtp_password
SMTP_FROM=your_from_address@example.com

TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+10000000000

# Timeouts
PROVIDER_TIMEOUT_SECONDS=20

# Health
HEALTH_POLL_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_MS=1000
HEALTH_HANDLER_TIMEOUT_MS=2000
HEALTH_ENABLE_PROVIDER_PROBE=true
